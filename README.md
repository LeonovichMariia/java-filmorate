# Java Filmorate

Приложение представляет собой социальную сеть для подбора фильмов по собственным предпочтениям и рекомендациям друзей.

## Функциональность
- Добавление\редактирование\удаление пользователей и фильмов
- Поиск фильма по id
- Получение списка всех фильмов
- Просмотр списка самых популярных фильмов
- Добавление\удаление друзей
- Получение списка друзей пользователя
- Просмотр общих друзей
- Получение списка общих друзей между двумя пользователями
- Получение списка рейтингов MPA, поиск рейтинга по id
- Получение списка жанров, поиск жанра по id
- Возможность поставить/удалить лайк фильму

## ER диаграмма базы данных приложения: 
https://dbdiagram.io/d/64065de2296d97641d85e022
![ER_diagram](docs/ER-diagram.png) 

## Таблицы
#### Таблица user_data:
- ***user_id*** - уникальный идентифиакатор пользователя  
- ***email*** - электронная почта пользователя  
- ***login*** - логин пользователя  
- ***name*** - имя  пользователя  
- ***birthday*** - дата рождения пользователя 

#### Таблица film_data:
- ***film_id*** - уникальный индентифиатор фильма  
- ***name*** - название фильма  
- ***description*** - описание фильма  
- ***release_date*** - дата выхода фильма  
- ***duration*** - продолжительность фильма 
- ***rate*** - количество поставленных лайков
- ***mpa_id*** - идетификатор рейтинга фильма 

#### Таблица friend:
- ***user_id*** - целочисленный идентификатор пользователя
- ***friend_id*** - целочисленный идентификатор пользователя
- ***friendship_status*** - статус дружбы между двумя пользователями

#### Таблица mpa:
- ***mpa_id*** - уникальный идентификатор рейтинга  
- ***mpa_name*** - значение рейтинга 

#### Таблица film_audience:
- ***user_id*** - идентификатор пользователя 
- ***film_id*** - идентификатор фильма  

#### Таблица film_genre:
- ***film_id*** - идентификатор фильма  
- ***genre_id*** - идентификатор жанра 

#### Таблица genre:
- ***genre_id*** - идентификатор жанра
- ***genre_name*** - значение рейтинга


## Примеры запросов для некоторых операций

#### 1. Создание пользователя:
```
INSERT INTO user_data (email, login, name, birthday)
VALUES ( ?, ?, ?, ? );
```

#### 2. Получение списка всех фильмов/пользователей:
```
SELECT *
FROM film_data/user_data;
```

#### 3. Получение информации о пользователе по его id
```
SELECT *
FROM user_data
WHERE user_id = ?
```

#### 4. Добавление в друзья
```
INSERT INTO friend(user_id, friend_id) VALUES (?, ?)
```

#### 5. Удаление из друзей
```
DELETE
FROM friend
WHERE user_id = ? AND friend_id = ?
```
